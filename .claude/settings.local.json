{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(python:*)",
      "Bash(start http://localhost:8000/frontend/subject-detail.html?subject=%E6%95%B0%E5%AD%A6)",
      "Bash(start firefox \"http://localhost:8000/frontend/subject-detail.html?subject=æ•°å­¦\")",
      "Bash(start firefox \"D:\\work\\project\\zyjc\\frontend\\study-plan-create.html\")",
      "Bash(start firefox \"D:\\work\\project\\zyjc\\test_consistency.html\")",
      "Bash(start http://localhost:8000/frontend/study-plan.html)",
      "Bash(pip install:*)",
      "Bash(rm:*)",
      "Bash(start firefox:*)",
      "Bash(del test.db)",
      "Bash(taskkill:*)",
      "Bash(powershell:*)",
      "Bash(start \"http://localhost:8080/frontend/error-detail.html?id=1\")",
      "Bash(start:*)",
      "Bash(dir:*)",
      "Bash(ls:*)",
      "Bash(del:*)",
      "Bash(timeout:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(node:*)",
      "Bash(cmd /c:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git remote:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(git fetch:*)",
      "Bash(git config:*)",
      "Bash(ping:*)",
      "Bash(sed:*)",
      "Bash(echo $BACKEND_CORS_ORIGINS)",
      "Bash(where python)",
      "Bash(C:UsersweixiAppDataLocalProgramsPythonPython313python.exe --version)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" update_auth_system.py)",
      "Bash(\"C:\\Users\\weixi\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe\" check_page_access.py)",
      "Bash(\"C:\\Users\\weixi\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe\" fix_all_pages_auth.py)",
      "Bash(\"C:\\Users\\weixi\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe\" --version)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" \"D:\\work\\project\\zyjc\\fix_all_pages_auth.py\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" \"D:\\work\\project\\zyjc\\quick_fix_auth.py\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT id, name, avatar FROM students WHERE id = 1'')\nresult = cursor.fetchone()\nprint(''Student ID 1:'', result)\ncursor.execute(''SELECT id, name, avatar FROM students LIMIT 5'')\nresults = cursor.fetchall()\nprint(''All students:'')\nfor row in results:\n    print(f''  ID {row[0]}: {row[1]} - avatar: {row[2]}'')\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT name FROM sqlite_master WHERE type=\"\"table\"\"'')\ntables = cursor.fetchall()\nprint(''Tables:'', tables)\nif tables:\n    cursor.execute(''SELECT id, nickname, avatar_url FROM children LIMIT 5'')\n    results = cursor.fetchall()\n    print(''Children:'')\n    for row in results:\n        print(f''  ID {row[0]}: {row[1]} - avatar: {row[2]}'')\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nprint(''Users table columns:'')\nfor col in columns:\n    print(f''  {col}'')\ncursor.execute(''SELECT id, username, nickname, avatar_url, role FROM users WHERE role=\"\"student\"\" LIMIT 5'')\nresults = cursor.fetchall()\nprint(''\\nStudent users:'')\nfor row in results:\n    print(f''  ID {row[0]}: {row[1]} ({row[2]}) - avatar: {row[3]} - role: {row[4]}'')\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT id, username, role FROM users WHERE role=\"\"student\"\" LIMIT 5'')\nresults = cursor.fetchall()\nprint(''Student users:'')\nfor row in results:\n    print(f''  ID {row[0]}: {row[1]} - role: {row[2]}'')\nprint()\ncursor.execute(''SELECT id, username, role FROM users WHERE role=\"\"parent\"\" LIMIT 5'')\nresults = cursor.fetchall()\nprint(''Parent users:'')\nfor row in results:\n    print(f''  ID {row[0]}: {row[1]} - role: {row[2]}'')\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\n\n# æ·»åŠ avatar_urlå­—æ®µ\ntry:\n    cursor.execute(''ALTER TABLE users ADD COLUMN avatar_url VARCHAR(255)'')\n    print(''Successfully added avatar_url column to users table'')\nexcept sqlite3.OperationalError as e:\n    print(f''Column may already exist: {e}'')\n\n# ä¸ºID=1çš„å­¦ç”Ÿç”¨æˆ·è®¾ç½®å¤´åƒ\ncursor.execute(''UPDATE users SET avatar_url = \"\"/uploads/avatars/child1.jpg\"\" WHERE id = 1 AND role = \"\"student\"\"'')\n\n# æ£€æŸ¥æ›´æ–°ç»“æœ\ncursor.execute(''SELECT id, username, role, avatar_url FROM users WHERE id = 1'')\nresult = cursor.fetchone()\nprint(f''Updated user: {result}'')\n\nconn.commit()\nconn.close()\nprint(''Database updated successfully!'')\n\")",
      "Bash(copy:*)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nimport hashlib\nfrom datetime import datetime\n\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\n\n# åˆ›å»ºå®¶é•¿ç”¨æˆ·\ntry:\n    # æ’å…¥å®¶é•¿ç”¨æˆ·\n    password_hash = hashlib.sha256(''123456''.encode()).hexdigest()\n    cursor.execute(''''''\n        INSERT INTO users (username, email, password_hash, role, avatar_url) \n        VALUES (?, ?, ?, ?, ?)\n    '''''', (''parent31'', ''parent31@test.com'', password_hash, ''parent'', ''emoji:ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦''))\n    parent_id = cursor.lastrowid\n    print(f''Created parent user with ID: {parent_id}'')\n    \n    # ç¡®ä¿student1å­˜åœ¨å¹¶è®¾ç½®æ˜µç§°å’Œå…¶ä»–å±æ€§\n    cursor.execute(''UPDATE users SET avatar_url = ?, username = ? WHERE id = 1'', \n                   (''/uploads/avatars/child1.jpg'', ''student1''))\n    \n    # æ£€æŸ¥ParentChildè¡¨æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»º\n    cursor.execute(''''''\n        CREATE TABLE IF NOT EXISTS parent_children (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            parent_id INTEGER NOT NULL,\n            child_id INTEGER NOT NULL,\n            nickname VARCHAR(50),\n            grade VARCHAR(20),\n            school VARCHAR(100),\n            relationship VARCHAR(20) DEFAULT ''child'',\n            is_active BOOLEAN DEFAULT TRUE,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (parent_id) REFERENCES users (id),\n            FOREIGN KEY (child_id) REFERENCES users (id)\n        )\n    '''''')\n    \n    # åˆ›å»ºå®¶é•¿-å­©å­å…³ç³»\n    cursor.execute(''''''\n        INSERT INTO parent_children (parent_id, child_id, nickname, grade, school, is_active)\n        VALUES (?, ?, ?, ?, ?, ?)\n    '''''', (parent_id, 1, ''å°å®è´'', ''ä¸‰å¹´çº§'', ''å®éªŒå°å­¦'', True))\n    \n    print(''Created parent-child relationship'')\n    \n    conn.commit()\n    \n    # éªŒè¯æ•°æ®\n    cursor.execute(''SELECT * FROM users WHERE role = \"\"parent\"\"'')\n    parents = cursor.fetchall()\n    print(''Parents:'', parents)\n    \n    cursor.execute(''SELECT * FROM parent_children'')\n    relations = cursor.fetchall()\n    print(''Parent-child relations:'', relations)\n    \nexcept Exception as e:\n    print(f''Error: {e}'')\n    conn.rollback()\n\nconn.close()\nprint(''Database setup complete!'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''app.db'')\ncursor = conn.cursor()\n\n# é‡å‘½åè¡¨\ncursor.execute(''DROP TABLE IF EXISTS parent_child'')\ncursor.execute(''ALTER TABLE parent_children RENAME TO parent_child'')\n\nprint(''Table renamed successfully'')\n\n# æ£€æŸ¥æ•°æ®\ncursor.execute(''SELECT * FROM parent_child'')\nrelations = cursor.fetchall()\nprint(''Parent-child relations:'', relations)\n\nconn.commit()\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport jwt\nimport datetime\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„å¯†é’¥å’Œç®—æ³•\nSECRET_KEY = ''your-secret-key-here''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''parent_2'',\n    ''user_id'': 2,\n    ''role'': ''parent'',\n    ''iat'': datetime.datetime.utcnow(),\n    ''exp'': datetime.datetime.utcnow() + datetime.timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''Parent token:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtokenï¼Œä½¿ç”¨ä¸åç«¯ä¸€è‡´çš„æ ¼å¼\npayload = {\n    ''sub'': ''parent_2'',  # æ ¹æ®åç«¯ç”¨æ³•ï¼Œé€šå¸¸æ ¼å¼ä¸ºrole_id\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''Parent token:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtokenï¼Œä»…ä½¿ç”¨æ•°å­—ID\npayload = {\n    ''sub'': ''2'',  # åªä½¿ç”¨ç”¨æˆ·IDæ•°å­—\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''Parent token with ID 2:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/test.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT id, nickname, avatar_url, role FROM users WHERE id = 1'')\nresult = cursor.fetchone()\nif result:\n    print(f''User ID 1 exists: ID={result[0]}, nickname={result[1]}, avatar_url={result[2]}, role={result[3]}'')\nelse:\n    print(''User ID 1 does not exist'')\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== ParentChildå…³ç³»è¡¨ ==='')\ncursor.execute(''''''SELECT pc.id, pc.parent_id, pc.child_id, pc.nickname, pc.is_active, u1.nickname as parent_name, u2.nickname as child_name \n                 FROM parent_child pc \n                 LEFT JOIN users u1 ON pc.parent_id = u1.id \n                 LEFT JOIN users u2 ON pc.child_id = u2.id'''''')\nrelations = cursor.fetchall()\nfor rel in relations:\n    status = ''æ¿€æ´»'' if rel[4] else ''å·²åˆ é™¤''\n    print(f''  å…³ç³»ID:{rel[0]} å®¶é•¿:{rel[5]}(ID:{rel[1]}) -> å­©å­:{rel[3]}({rel[6]}, ID:{rel[2]}) [{status}]'')\n\nprint(''\\n=== ç”¨æˆ·è¡¨ ==='')\ncursor.execute(''SELECT id, nickname, role, is_active FROM users ORDER BY id'')\nusers = cursor.fetchall()\nfor user in users:\n    status = ''æ¿€æ´»'' if user[3] else ''å·²åˆ é™¤''\n    print(f''  ç”¨æˆ·ID:{user[0]} {user[1]} ({user[2]}) [{status}]'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== ParentChildå…³ç³»è¡¨ ==='')\ncursor.execute(''PRAGMA table_info(parent_child)'')\ncolumns = cursor.fetchall()\nprint(''parent_childè¡¨ç»“æ„:'')\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== Usersè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nprint(''usersè¡¨ç»“æ„:'')\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== ParentChildæ•°æ® ==='')\ncursor.execute(''SELECT * FROM parent_child LIMIT 10'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''  {rel}'')\n\nprint(''\\n=== ç”¨æˆ·æ•°æ® ==='')\ncursor.execute(''SELECT id, username, nickname, role, is_active FROM users LIMIT 10'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''  {user}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== ParentChildæ•°æ® ==='')\ncursor.execute(''SELECT * FROM parent_child'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    status = ''æ¿€æ´»'' if rel[7] else ''å·²åˆ é™¤''\n    print(f''  å…³ç³»ID:{rel[0]} å®¶é•¿ID:{rel[1]} -> å­©å­ID:{rel[2]} æ˜µç§°:{rel[3]} [{status}]'')\n\nprint(''\\n=== ç”¨æˆ·æ•°æ® ==='')\ncursor.execute(''SELECT id, username, role FROM users'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''  ç”¨æˆ·ID:{user[0]} {user[1]} ({user[2]})'')\n\nprint(''\\n=== å½“å‰ä»¥è§’è‰² parent çš„ç”¨æˆ·ID=2 è®¿é—®æ—¶åº”è¯¥çœ‹åˆ°çš„å­©å­ ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 AND is_active = 1'')\nparent_children = cursor.fetchall()\nfor child in parent_children:\n    print(f''  å­©å­æ˜µç§°: {child[3]}, å­©å­ID: {child[2]}, å¹´çº§: {child[4]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''å®¶é•¿ç”¨æˆ·Token:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''å®¶é•¿ç”¨æˆ·Token:'', token)\n\")",
      "Bash(http-server:*)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''æ–°çš„Token:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" check_homepage_buttons.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" add_homepage_button.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" verify_homepage_buttons.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·ID=2çš„çŠ¶æ€ ==='')\ncursor.execute(''SELECT id, username, role, is_active FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID=2: {user}'')\n    if user[2] != ''parent'':\n        print(f''âŒ è§’è‰²é”™è¯¯: æœŸæœ›parentï¼Œå®é™…{user[2]}'')\n    if not user[3]:\n        print(''âŒ ç”¨æˆ·å·²è¢«åœç”¨'')\n    if user[2] == ''parent'' and user[3]:\n        print(''âœ… ç”¨æˆ·çŠ¶æ€æ­£å¸¸'')\nelse:\n    print(''âŒ ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥usersè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·ID=2 ==='')\ncursor.execute(''SELECT * FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID=2å­˜åœ¨: {user}'')\n    cursor.execute(''SELECT id, username, role FROM users WHERE id = 2'')\n    user_info = cursor.fetchone()\n    print(f''ID: {user_info[0]}, ç”¨æˆ·å: {user_info[1]}, è§’è‰²: {user_info[2]}'')\n    \n    if user_info[2] != ''parent'':\n        print(f''âŒ è§’è‰²é—®é¢˜: æœŸæœ›parentï¼Œå®é™…æ˜¯{user_info[2]}'')\n    else:\n        print(''âœ… è§’è‰²æ­£ç¡®: parent'')\nelse:\n    print(''âŒ ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥æ‰€æœ‰ç”¨æˆ· ==='')\ncursor.execute(''SELECT id, username, role FROM users'')\nall_users = cursor.fetchall()\nfor u in all_users:\n    print(f''  ID:{u[0]} {u[1]} ({u[2]})'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''æ£€æŸ¥ç”¨æˆ·ID=2:'')\ncursor.execute(''SELECT id, username, role FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    print(f''ID:{user[0]}, ç”¨æˆ·å:{user[1]}, è§’è‰²:{user[2]}'')\n    if user[2] == ''parent'':\n        print(''è§’è‰²æ­£ç¡®'')\n    else:\n        print(f''è§’è‰²é”™è¯¯ï¼Œåº”è¯¥æ˜¯parentä½†æ˜¯{user[2]}'')\nelse:\n    print(''ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nprint(''æ‰€æœ‰ç”¨æˆ·:'')\ncursor.execute(''SELECT id, username, role FROM users'')\nusers = cursor.fetchall()\nfor u in users:\n    print(f''ID:{u[0]} {u[1]} {u[2]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\nimport sqlite3\n\n# JWTé…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# è¿æ¥æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\ncursor.execute(''SELECT id, username, role, avatar_url FROM users WHERE id = 2'')\nuser = cursor.fetchone()\n\nif user:\n    user_id, username, role, avatar_url = user\n    \n    # åˆ›å»ºå®Œæ•´çš„token payload\n    payload = {\n        ''sub'': str(user_id),  # ç”¨æˆ·ID\n        ''openid'': f''{role}_{user_id}'',  # ç”Ÿæˆopenidæ ¼å¼\n        ''role'': role,  # ç”¨æˆ·è§’è‰²\n        ''nickname'': username,  # ç”¨æˆ·æ˜µç§°\n        ''vip_type'': ''free'',  # VIPç±»å‹ï¼Œé»˜è®¤å…è´¹\n        ''iat'': datetime.utcnow(),\n        ''exp'': datetime.utcnow() + timedelta(days=1)\n    }\n    \n    # ç”Ÿæˆtoken\n    token = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\n    print(f''å®Œæ•´çš„å®¶é•¿ç”¨æˆ·Token: {token}'')\n    \n    # éªŒè¯tokenå†…å®¹\n    decoded = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n    print(f''Tokenå†…å®¹: {decoded}'')\nelse:\n    print(''ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥å­©å­æ•°æ® ==='')\ncursor.execute(''SELECT pc.id, pc.child_id, pc.nickname, u.username FROM parent_child pc LEFT JOIN users u ON pc.child_id = u.id WHERE pc.parent_id = 2 AND pc.is_active = 1'')\nchildren = cursor.fetchall()\nif children:\n    print(''æ‰¾åˆ°çš„å­©å­æ•°æ®:'')\n    for child in children:\n        print(f''  å…³ç³»ID:{child[0]}, å­©å­ID:{child[1]}, æ˜µç§°:{child[2]}, ç”¨æˆ·å:{child[3]}'')\n    print(f''\\nå»ºè®®çš„æ­£ç¡®è®¿é—®URL:'')\n    print(f''http://localhost:8080/frontend/child-detail.html?id={children[0][1]}'')\nelse:\n    print(''å½“å‰å®¶é•¿(ID=2)æ²¡æœ‰å…³è”çš„å­©å­æ•°æ®'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== parent_childè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(parent_child)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== ç¤ºä¾‹æ•°æ® ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE is_active = 1 LIMIT 3'')\nsample_data = cursor.fetchall()\nfor data in sample_data:\n    print(f''  {data}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(''å®¶é•¿ç”¨æˆ·Token:'', token)\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== å®¶é•¿ID=2å…³è”çš„å­©å­ ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 AND is_active = 1'')\nchildren = cursor.fetchall()\nfor child in children:\n    print(f''  å…³ç³»ID:{child[0]}, å®¶é•¿ID:{child[1]}, å­©å­ID:{child[2]}, æ˜µç§°:{child[3]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·è¡¨ ==='')\ncursor.execute(''SELECT id, username, role, is_active FROM users WHERE id IN (1, 2)'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''  ç”¨æˆ·ID:{user[0]}, ç”¨æˆ·å:{user[1]}, è§’è‰²:{user[2]}, çŠ¶æ€:{user[3]}'')\n\nprint(''\\n=== ParentChildå…³ç³» ==='')  \ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 OR child_id = 1'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''  å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[7]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== ç”¨æˆ·è¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== ç”¨æˆ·æ•°æ® ==='')\ncursor.execute(''SELECT id, username, role FROM users WHERE id IN (1, 2)'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''  ç”¨æˆ·ID:{user[0]}, ç”¨æˆ·å:{user[1]}, è§’è‰²:{user[2]}'')\n\nprint(''\\n=== ParentChildå…³ç³» ==='')  \ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 OR child_id = 1'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''  å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[7]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·è¡¨ä¸­æ˜¯å¦æœ‰ID=110çš„ç”¨æˆ· ==='')\ncursor.execute(''SELECT id, username, role, nickname, avatar_url, is_active FROM users WHERE id = 110'')\nuser = cursor.fetchone()\nif user:\n    print(f''æ‰¾åˆ°ç”¨æˆ·ID=110: {user}'')\nelse:\n    print(''ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥parent_childè¡¨ä¸­æ˜¯å¦æœ‰child_id=110 ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE child_id = 110'')\nrelation = cursor.fetchone()\nif relation:\n    print(f''æ‰¾åˆ°å…³è”å…³ç³»: {relation}'')\nelse:\n    print(''æ²¡æœ‰æ‰¾åˆ°child_id=110çš„å…³è”å…³ç³»'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·è¡¨ä¸­æœ€å¤§çš„ID ==='')\ncursor.execute(''SELECT MAX(id) FROM users'')\nmax_id = cursor.fetchone()[0]\nprint(f''ç”¨æˆ·è¡¨ä¸­æœ€å¤§ID: {max_id}'')\n\nprint(''\\n=== æ£€æŸ¥parent_childè¡¨ä¸­çš„æ‰€æœ‰child_id ==='')\ncursor.execute(''SELECT DISTINCT child_id FROM parent_child ORDER BY child_id'')\nchild_ids = cursor.fetchall()\nprint(f''parent_childè¡¨ä¸­çš„child_id: {[c[0] for c in child_ids]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥usersè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nprint(''usersè¡¨å­—æ®µ:'')\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·è¡¨ä¸­æ˜¯å¦æœ‰ID=110çš„ç”¨æˆ· ==='')\ncursor.execute(''SELECT * FROM users WHERE id = 110'')\nuser = cursor.fetchone()\nif user:\n    print(f''æ‰¾åˆ°ç”¨æˆ·ID=110: {user}'')\nelse:\n    print(''ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·è¡¨ä¸­æœ€å¤§çš„ID ==='')\ncursor.execute(''SELECT MAX(id) FROM users'')\nmax_id = cursor.fetchone()[0]\nprint(f''ç”¨æˆ·è¡¨ä¸­æœ€å¤§ID: {max_id}'')\n\nprint(''\\n=== åˆ—å‡ºæ‰€æœ‰ç”¨æˆ· ==='')\ncursor.execute(''SELECT id, username, role FROM users ORDER BY id'')\nall_users = cursor.fetchall()\nfor user in all_users[:10]:  # åªæ˜¾ç¤ºå‰10ä¸ª\n    print(f''  ID:{user[0]} {user[1]} ({user[2]})'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥parent_childè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(parent_child)'')\ncolumns = cursor.fetchall()\nprint(''parent_childè¡¨å­—æ®µ:'')\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== æ£€æŸ¥parent_childè¡¨ä¸­çš„æ‰€æœ‰æ•°æ® ==='')\ncursor.execute(''SELECT * FROM parent_child'')\nrelations = cursor.fetchall()\nif relations:\n    for rel in relations:\n        print(f''å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»çŠ¶æ€:{rel[7]}'')\nelse:\n    print(''parent_childè¡¨ä¸­æ²¡æœ‰æ•°æ®'')\n\nprint(''\\n=== æ£€æŸ¥æœ‰æ•ˆçš„å­©å­ID (is_active=1) ==='')\ncursor.execute(''SELECT child_id, nickname FROM parent_child WHERE is_active = 1'')\nactive_children = cursor.fetchall()\nif active_children:\n    print(''å¯ç”¨çš„å­©å­ID:'')\n    for child in active_children:\n        print(f''  å­©å­ID: {child[0]}, æ˜µç§°: {child[1]}'')\nelse:\n    print(''æ²¡æœ‰æœ‰æ•ˆçš„å­©å­æ•°æ®'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ä½¿ç”¨å’Œåç«¯ç›¸åŒçš„é…ç½®\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\n# ä¸ºå®¶é•¿ç”¨æˆ·ï¼ˆID=2ï¼‰åˆ›å»ºtoken\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== è¯¦ç»†æ£€æŸ¥parent_childè¡¨æ•°æ® ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE is_active = 1'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[7]}'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·è¡¨ ==='')\ncursor.execute(''SELECT id, role FROM users WHERE id IN (1, 2)'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\nprint(''\\n=== æ£€æŸ¥JWT tokenè§£æ ==='')\n# éªŒè¯æˆ‘ä»¬çš„tokenæ˜¯å¦æ­£ç¡®è§£æ\nfrom jose import jwt\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU2NDc0MTA2fQ.LuylcjzvyN-8XbrMch5LTGixOePw_OO4jgqWXWHBcXM''\ntry:\n    decoded = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n    print(f''Tokenè§£ææˆåŠŸ: {decoded}'')\n    print(f''ç”¨æˆ·ID: {decoded.get(\"\"sub\"\")}'')\nexcept Exception as e:\n    print(f''Tokenè§£æå¤±è´¥: {e}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" debug_child_info.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥æ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬ID>10çš„ï¼‰ ==='')\ncursor.execute(''SELECT id, role, avatar_url FROM users ORDER BY id'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}, å¤´åƒ:{user[2]}'')\n\nprint(''\\n=== æ£€æŸ¥æ‰€æœ‰parent_childå…³ç³» ==='')\ncursor.execute(''SELECT id, parent_id, child_id, nickname, is_active FROM parent_child ORDER BY id'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[4]}'')\n\nprint(''\\n=== æŸ¥æ‰¾ID=110çš„ç”¨æˆ· ==='')\ncursor.execute(''SELECT * FROM users WHERE id = 110'')\nuser110 = cursor.fetchone()\nif user110:\n    print(f''æ‰¾åˆ°ç”¨æˆ·ID=110: {user110}'')\nelse:\n    print(''ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n\nprint(''\\n=== æŸ¥æ‰¾child_id=110çš„å…³ç³» ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE child_id = 110'')\nrel110 = cursor.fetchone()\nif rel110:\n    print(f''æ‰¾åˆ°å…³ç³»child_id=110: {rel110}'')\nelse:\n    print(''å…³ç³»child_id=110ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥æ‰€æœ‰ç”¨æˆ·ID ==='')\ncursor.execute(''SELECT id, role FROM users ORDER BY id'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\nprint(''\\n=== æ£€æŸ¥æ‰€æœ‰parent_childå…³ç³» ==='')\ncursor.execute(''SELECT id, parent_id, child_id, nickname, is_active FROM parent_child ORDER BY id'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[4]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nimport json\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æŸ¥æ‰¾å¯èƒ½çš„æ¨¡æ‹Ÿæ•°æ® ==='')\n# æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è¡¨å­˜å‚¨äº†æ¨¡æ‹Ÿæ•°æ®\ncursor.execute(''SELECT name FROM sqlite_master WHERE type=\"\"table\"\"'')\ntables = cursor.fetchall()\nprint(''æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨:'')\nfor table in tables:\n    print(f''  {table[0]}'')\n\nprint(''\\n=== æ£€æŸ¥æ˜¯å¦æœ‰ID=110çš„æ•°æ®åœ¨ä»»ä½•è¡¨ä¸­ ==='')\nfor table_name in [''users'', ''parent_child'']:\n    try:\n        cursor.execute(f''SELECT * FROM {table_name[0]} WHERE id = 110 OR child_id = 110 OR parent_id = 110'')\n        results = cursor.fetchall()\n        if results:\n            print(f''{table_name[0]}è¡¨ä¸­æ‰¾åˆ°ID=110ç›¸å…³æ•°æ®: {len(results)}æ¡'')\n    except Exception as e:\n        print(f''æŸ¥è¯¢{table_name[0]}è¡¨æ—¶å‡ºé”™: {e}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥æ˜¯å¦æœ‰ID=110çš„æ•°æ®åœ¨ä»»ä½•è¡¨ä¸­ ==='')\nfor table_name in [''users'', ''parent_child'']:\n    try:\n        if table_name == ''users'':\n            cursor.execute(''SELECT * FROM users WHERE id = 110'')\n        elif table_name == ''parent_child'':\n            cursor.execute(''SELECT * FROM parent_child WHERE id = 110 OR child_id = 110 OR parent_id = 110'')\n        results = cursor.fetchall()\n        if results:\n            print(f''{table_name}è¡¨ä¸­æ‰¾åˆ°ID=110ç›¸å…³æ•°æ®: {len(results)}æ¡'')\n            for result in results:\n                print(f''  {result}'')\n        else:\n            print(f''{table_name}è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°ID=110ç›¸å…³æ•°æ®'')\n    except Exception as e:\n        print(f''æŸ¥è¯¢{table_name}è¡¨æ—¶å‡ºé”™: {e}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" debug_api_direct.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æœ€æ–°çš„æ•°æ®åº“çŠ¶æ€ ==='')\n\n# æ£€æŸ¥æ‰€æœ‰ç”¨æˆ·ï¼Œçœ‹çœ‹æ˜¯å¦ç°åœ¨æœ‰ID=110äº†\ncursor.execute(''SELECT id, role FROM users ORDER BY id'')\nusers = cursor.fetchall()\nprint(f''ç”¨æˆ·æ€»æ•°: {len(users)}'')\nfor user in users[-10:]:  # æ˜¾ç¤ºæœ€æ–°çš„10ä¸ªç”¨æˆ·\n    print(f''  ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\n# æ£€æŸ¥parent_childå…³ç³»\ncursor.execute(''SELECT id, parent_id, child_id, nickname, is_active FROM parent_child ORDER BY id'')\nrelations = cursor.fetchall()\nprint(f''\\nå…³ç³»æ€»æ•°: {len(relations)}'')\nfor rel in relations[-5:]:  # æ˜¾ç¤ºæœ€æ–°çš„5ä¸ªå…³ç³»\n    print(f''  å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[4]}'')\n\n# ç‰¹åˆ«æ£€æŸ¥ID=110çš„æ•°æ®\nprint(''\\n=== æ£€æŸ¥ID=110çš„å…·ä½“æ•°æ® ==='')\ncursor.execute(''SELECT * FROM users WHERE id = 110'')\nuser110 = cursor.fetchone()\nif user110:\n    print(f''ç”¨æˆ·ID=110å­˜åœ¨: è§’è‰²={user110[6]}'')\nelse:\n    print(''ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n\ncursor.execute(''SELECT * FROM parent_child WHERE child_id = 110'')\nrel110 = cursor.fetchone()\nif rel110:\n    print(f''å…³ç³»child_id=110å­˜åœ¨: å®¶é•¿ID={rel110[1]}, æ˜µç§°={rel110[3]}'')\nelse:\n    print(''å…³ç³»child_id=110ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nimport os\n\ndb_files = [''backend/app.db'', ''backend/test.db'', ''backend/zyjc_platform.db'']\n\nfor db_file in db_files:\n    if not os.path.exists(db_file):\n        print(f''{db_file} ä¸å­˜åœ¨'')\n        continue\n        \n    print(f''\\n=== æ£€æŸ¥ {db_file} ==='')\n    try:\n        conn = sqlite3.connect(db_file)\n        cursor = conn.cursor()\n        \n        # æ£€æŸ¥ç”¨æˆ·æ€»æ•°\n        cursor.execute(''SELECT COUNT(*) FROM users'')\n        user_count = cursor.fetchone()[0]\n        print(f''ç”¨æˆ·æ€»æ•°: {user_count}'')\n        \n        # æ£€æŸ¥æ˜¯å¦æœ‰ID=110\n        cursor.execute(''SELECT id, role FROM users WHERE id = 110'')\n        user110 = cursor.fetchone()\n        if user110:\n            print(f''âœ… æ‰¾åˆ°ç”¨æˆ·ID=110: è§’è‰²={user110[1]}'')\n        else:\n            print(''âŒ ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n        \n        # æ£€æŸ¥å…³ç³»æ€»æ•°\n        try:\n            cursor.execute(''SELECT COUNT(*) FROM parent_child'')\n            rel_count = cursor.fetchone()[0]\n            print(f''å…³ç³»æ€»æ•°: {rel_count}'')\n            \n            cursor.execute(''SELECT parent_id, child_id, nickname FROM parent_child WHERE child_id = 110'')\n            rel110 = cursor.fetchone()\n            if rel110:\n                print(f''âœ… æ‰¾åˆ°å…³ç³»child_id=110: å®¶é•¿ID={rel110[0]}, æ˜µç§°={rel110[2]}'')\n            else:\n                print(''âŒ å…³ç³»child_id=110ä¸å­˜åœ¨'')\n        except:\n            print(''parent_childè¡¨ä¸å­˜åœ¨'')\n        \n        conn.close()\n    except Exception as e:\n        print(f''æ£€æŸ¥{db_file}æ—¶å‡ºé”™: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nprint(''=== æ£€æŸ¥ backend/test.db ==='')\nconn = sqlite3.connect(''backend/test.db'')\ncursor = conn.cursor()\n\n# æ£€æŸ¥ç”¨æˆ·æ€»æ•°\ncursor.execute(''SELECT COUNT(*) FROM users'')\nuser_count = cursor.fetchone()[0]\nprint(f''ç”¨æˆ·æ€»æ•°: {user_count}'')\n\n# æ£€æŸ¥æ˜¯å¦æœ‰ID=110\ncursor.execute(''SELECT id, role FROM users WHERE id = 110'')\nuser110 = cursor.fetchone()\nif user110:\n    print(f''æ‰¾åˆ°ç”¨æˆ·ID=110: è§’è‰²={user110[1]}'')\nelse:\n    print(''ç”¨æˆ·ID=110ä¸å­˜åœ¨'')\n\n# æ£€æŸ¥æœ€æ–°çš„ç”¨æˆ·ID\ncursor.execute(''SELECT id, role FROM users ORDER BY id DESC LIMIT 10'')\nrecent_users = cursor.fetchall()\nprint(''æœ€æ–°çš„10ä¸ªç”¨æˆ·:'')\nfor user in recent_users:\n    print(f''  ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\n# æ£€æŸ¥å…³ç³»\ncursor.execute(''SELECT parent_id, child_id, nickname FROM parent_child WHERE child_id = 110'')\nrel110 = cursor.fetchone()\nif rel110:\n    print(f''æ‰¾åˆ°å…³ç³»child_id=110: å®¶é•¿ID={rel110[0]}, æ˜µç§°={rel110[2]}'')\nelse:\n    print(''å…³ç³»child_id=110ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''backend/test.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥test.dbä¸­çš„å®¶é•¿ID=2 ==='')\ncursor.execute(''SELECT id, role FROM users WHERE id = 2'')\nuser2 = cursor.fetchone()\nif user2:\n    print(f''ç”¨æˆ·ID=2å­˜åœ¨: è§’è‰²={user2[1]}'')\nelse:\n    print(''ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥å®¶é•¿ID=2çš„æ‰€æœ‰å…³è”å…³ç³» ==='')\ncursor.execute(''SELECT child_id, nickname FROM parent_child WHERE parent_id = 2 AND is_active = 1'')\nchildren = cursor.fetchall()\nprint(f''å®¶é•¿ID=2å…³è”çš„å­©å­æ•°é‡: {len(children)}'')\nfor child in children:\n    print(f''  å­©å­ID:{child[0]}, æ˜µç§°:{child[1]}'')\n\nprint(''\\n=== æ£€æŸ¥å­©å­ID=1çš„æƒ…å†µ ==='')\ncursor.execute(''SELECT id, role FROM users WHERE id = 1'')\nuser1 = cursor.fetchone()\nif user1:\n    print(f''ç”¨æˆ·ID=1å­˜åœ¨: è§’è‰²={user1[1]}'')\n    \n    cursor.execute(''SELECT parent_id, nickname FROM parent_child WHERE child_id = 1 AND is_active = 1'')\n    parent1 = cursor.fetchone()\n    if parent1:\n        print(f''  å…³è”çš„å®¶é•¿ID:{parent1[0]}, æ˜µç§°:{parent1[1]}'')\n    else:\n        print(''  æ²¡æœ‰æ‰¾åˆ°å…³è”çš„å®¶é•¿'')\nelse:\n    print(''ç”¨æˆ·ID=1ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nimport hashlib\nfrom datetime import datetime\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    # åˆ›å»ºå­©å­ç”¨æˆ·ID=110\n    print(''=== åˆ›å»ºå­©å­ç”¨æˆ·ID=110 ==='')\n    cursor.execute(''SELECT id FROM users WHERE id = 110'')\n    existing_user = cursor.fetchone()\n    \n    if not existing_user:\n        cursor.execute(''''''\n            INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active, daily_quota, daily_used) \n            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n        '''''', (110, ''child_110'', ''mock_openid_child_110'', ''å°æ˜'', ''student'', ''äºŒå¹´çº§'', ''emoji:ğŸ“'', 1, 5, 0))\n        print(''âœ… åˆ›å»ºå­©å­ç”¨æˆ·ID=110æˆåŠŸ'')\n    else:\n        print(''âš ï¸  ç”¨æˆ·ID=110å·²å­˜åœ¨'')\n    \n    # åˆ›å»ºå®¶é•¿-å­©å­å…³è”å…³ç³»\n    print(''=== åˆ›å»ºå®¶é•¿-å­©å­å…³è”å…³ç³» ==='')\n    cursor.execute(''SELECT id FROM parent_child WHERE parent_id = 2 AND child_id = 110'')\n    existing_relation = cursor.fetchone()\n    \n    if not existing_relation:\n        cursor.execute(''''''\n            INSERT INTO parent_child (parent_id, child_id, nickname, grade, school, relationship_type, is_active) \n            VALUES (?, ?, ?, ?, ?, ?, ?)\n        '''''', (2, 110, ''å°æ˜'', ''äºŒå¹´çº§'', ''å®éªŒå°å­¦111'', ''parent'', 1))\n        print(''âœ… åˆ›å»ºå…³è”å…³ç³»æˆåŠŸ'')\n    else:\n        print(''âš ï¸  å…³è”å…³ç³»å·²å­˜åœ¨'')\n    \n    conn.commit()\n    \n    # éªŒè¯æ•°æ®\n    print(''\\n=== éªŒè¯åˆ›å»ºçš„æ•°æ® ==='')\n    cursor.execute(''SELECT id, nickname, role, grade FROM users WHERE id = 110'')\n    user = cursor.fetchone()\n    if user:\n        print(f''ç”¨æˆ·ID=110: æ˜µç§°={user[1]}, è§’è‰²={user[2]}, å¹´çº§={user[3]}'')\n    \n    cursor.execute(''SELECT parent_id, child_id, nickname, school FROM parent_child WHERE child_id = 110'')\n    relation = cursor.fetchone()\n    if relation:\n        print(f''å…³è”å…³ç³»: å®¶é•¿ID={relation[0]}, å­©å­ID={relation[1]}, æ˜µç§°={relation[2]}, å­¦æ ¡={relation[3]}'')\n    \n    print(''\\nâœ… æ•°æ®è¿ç§»å®Œæˆï¼'')\n    \nexcept Exception as e:\n    print(f''âŒ åˆ›å»ºæ•°æ®æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥usersè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(users)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nprint(''\\n=== æ£€æŸ¥parent_childè¡¨ç»“æ„ ==='')\ncursor.execute(''PRAGMA table_info(parent_child)'')\ncolumns = cursor.fetchall()\nfor col in columns:\n    print(f''  {col[1]} ({col[2]})'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nimport hashlib\nfrom datetime import datetime\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    # åˆ›å»ºå­©å­ç”¨æˆ·ID=110\n    print(''=== åˆ›å»ºå­©å­ç”¨æˆ·ID=110 ==='')\n    cursor.execute(''SELECT id FROM users WHERE id = 110'')\n    existing_user = cursor.fetchone()\n    \n    if not existing_user:\n        # ç”Ÿæˆå¯†ç å“ˆå¸Œ\n        password_hash = hashlib.sha256(''123456''.encode()).hexdigest()\n        \n        cursor.execute(''''''\n            INSERT INTO users (id, username, email, password_hash, role, avatar_url) \n            VALUES (?, ?, ?, ?, ?, ?)\n        '''''', (110, ''xiaoming110'', ''xiaoming110@test.com'', password_hash, ''student'', ''emoji:ğŸ“''))\n        print(''åˆ›å»ºå­©å­ç”¨æˆ·ID=110æˆåŠŸ'')\n    else:\n        print(''ç”¨æˆ·ID=110å·²å­˜åœ¨'')\n    \n    # åˆ›å»ºå®¶é•¿-å­©å­å…³è”å…³ç³»\n    print(''=== åˆ›å»ºå®¶é•¿-å­©å­å…³è”å…³ç³» ==='')\n    cursor.execute(''SELECT id FROM parent_child WHERE parent_id = 2 AND child_id = 110'')\n    existing_relation = cursor.fetchone()\n    \n    if not existing_relation:\n        cursor.execute(''''''\n            INSERT INTO parent_child (parent_id, child_id, nickname, grade, school, relationship, is_active) \n            VALUES (?, ?, ?, ?, ?, ?, ?)\n        '''''', (2, 110, ''å°æ˜'', ''äºŒå¹´çº§'', ''å®éªŒå°å­¦111'', ''child'', 1))\n        print(''åˆ›å»ºå…³è”å…³ç³»æˆåŠŸ'')\n    else:\n        print(''å…³è”å…³ç³»å·²å­˜åœ¨'')\n    \n    conn.commit()\n    \n    # éªŒè¯æ•°æ®\n    print(''=== éªŒè¯åˆ›å»ºçš„æ•°æ® ==='')\n    cursor.execute(''SELECT id, username, role FROM users WHERE id = 110'')\n    user = cursor.fetchone()\n    if user:\n        print(f''ç”¨æˆ·ID=110: ç”¨æˆ·å={user[1]}, è§’è‰²={user[2]}'')\n    \n    cursor.execute(''SELECT parent_id, child_id, nickname, school FROM parent_child WHERE child_id = 110'')\n    relation = cursor.fetchone()\n    if relation:\n        print(f''å…³è”å…³ç³»: å®¶é•¿ID={relation[0]}, å­©å­ID={relation[1]}, æ˜µç§°={relation[2]}, å­¦æ ¡={relation[3]}'')\n    \n    print(''æ•°æ®è¿ç§»å®Œæˆï¼'')\n    \nexcept Exception as e:\n    print(f''åˆ›å»ºæ•°æ®æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',  # å®¶é•¿ç”¨æˆ·ID\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    print(''=== åˆ é™¤å¹¶é‡æ–°åˆ›å»ºusersè¡¨ ==='')\n    \n    # å¤‡ä»½ç°æœ‰æ•°æ®\n    cursor.execute(''SELECT * FROM users'')\n    existing_users = cursor.fetchall()\n    print(f''å¤‡ä»½äº†{len(existing_users)}ä¸ªç”¨æˆ·'')\n    \n    # åˆ é™¤è¡¨\n    cursor.execute(''DROP TABLE IF EXISTS users'')\n    \n    # é‡æ–°åˆ›å»ºusersè¡¨ï¼ŒåŒ¹é…Useræ¨¡å‹\n    cursor.execute(''''''\n        CREATE TABLE users (\n            id INTEGER PRIMARY KEY,\n            openid VARCHAR(100) UNIQUE NOT NULL,\n            unionid VARCHAR(100),\n            nickname VARCHAR(100),\n            avatar_url VARCHAR(500),\n            phone VARCHAR(20),\n            email VARCHAR(100),\n            role VARCHAR(20) NOT NULL DEFAULT ''student'',\n            grade VARCHAR(20),\n            is_vip BOOLEAN DEFAULT 0,\n            vip_expire_time DATETIME,\n            daily_quota INTEGER DEFAULT 3,\n            daily_used INTEGER DEFAULT 0,\n            last_quota_reset DATETIME DEFAULT CURRENT_DATE,\n            total_used INTEGER DEFAULT 0,\n            is_active BOOLEAN DEFAULT 1,\n            is_verified BOOLEAN DEFAULT 0,\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            last_login_at DATETIME,\n            settings TEXT\n        )\n    '''''')\n    print(''åˆ›å»ºæ–°usersè¡¨æˆåŠŸ'')\n    \n    # é‡æ–°æ’å…¥å®¶é•¿ç”¨æˆ·ID=2\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, is_active) \n        VALUES (?, ?, ?, ?, ?, ?)\n    '''''', (2, ''parent_2'', ''union_parent_2'', ''parent31'', ''parent'', 1))\n    print(''é‡æ–°åˆ›å»ºå®¶é•¿ç”¨æˆ·ID=2'')\n    \n    # é‡æ–°æ’å…¥å­©å­ç”¨æˆ·ID=110\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (110, ''child_110'', ''union_child_110'', ''å°æ˜'', ''student'', ''äºŒå¹´çº§'', ''emoji:ğŸ“'', 1))\n    print(''é‡æ–°åˆ›å»ºå­©å­ç”¨æˆ·ID=110'')\n    \n    conn.commit()\n    print(''è¡¨ç»“æ„æ›´æ–°å®Œæˆï¼'')\n    \nexcept Exception as e:\n    print(f''æ›´æ–°è¡¨ç»“æ„æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    print(''=== æ£€æŸ¥parent_childè¡¨ç»“æ„ ==='')\n    cursor.execute(''PRAGMA table_info(parent_child)'')\n    columns = cursor.fetchall()\n    for col in columns:\n        print(f''  {col[1]} ({col[2]})'')\n    \n    print(''\\n=== å¤‡ä»½ç°æœ‰æ•°æ® ==='')\n    cursor.execute(''SELECT * FROM parent_child'')\n    existing_data = cursor.fetchall()\n    print(f''å¤‡ä»½äº†{len(existing_data)}æ¡å…³ç³»æ•°æ®'')\n    \n    # åˆ é™¤å¹¶é‡æ–°åˆ›å»ºparent_childè¡¨\n    cursor.execute(''DROP TABLE IF EXISTS parent_child'')\n    \n    # åˆ›å»ºæ–°çš„parent_childè¡¨ï¼ŒåŒ¹é…ParentChildæ¨¡å‹\n    cursor.execute(''''''\n        CREATE TABLE parent_child (\n            id INTEGER PRIMARY KEY,\n            parent_id INTEGER NOT NULL,\n            child_id INTEGER NOT NULL,\n            relationship_type VARCHAR(20) DEFAULT ''parent'',\n            nickname VARCHAR(50),\n            school VARCHAR(100),\n            class_name VARCHAR(50),\n            is_active BOOLEAN DEFAULT 1,\n            can_view_homework BOOLEAN DEFAULT 1,\n            can_view_reports BOOLEAN DEFAULT 1,\n            can_set_limits BOOLEAN DEFAULT 1,\n            daily_homework_limit INTEGER DEFAULT 10,\n            daily_time_limit INTEGER DEFAULT 120,\n            bedtime_reminder VARCHAR(5),\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (parent_id) REFERENCES users (id),\n            FOREIGN KEY (child_id) REFERENCES users (id)\n        )\n    '''''')\n    print(''åˆ›å»ºæ–°parent_childè¡¨æˆåŠŸ'')\n    \n    # é‡æ–°æ’å…¥å…³ç³»æ•°æ®\n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 1, ''parent'', ''å°å®è´'', ''å®éªŒå°å­¦'', ''ä¸‰å¹´çº§'', 1))\n    print(''é‡æ–°åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=1çš„å…³ç³»'')\n    \n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 110, ''parent'', ''å°æ˜'', ''å®éªŒå°å­¦111'', ''äºŒå¹´çº§'', 1))\n    print(''é‡æ–°åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=110çš„å…³ç³»'')\n    \n    conn.commit()\n    print(''parent_childè¡¨æ›´æ–°å®Œæˆï¼'')\n    \nexcept Exception as e:\n    print(f''æ›´æ–°parent_childè¡¨æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    # æ·»åŠ å­©å­ç”¨æˆ·ID=1\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (1, ''student_1'', ''union_student_1'', ''student1'', ''student'', ''ä¸‰å¹´çº§'', ''/uploads/avatars/child1.jpg'', 1))\n    print(''åˆ›å»ºå­©å­ç”¨æˆ·ID=1æˆåŠŸ'')\n    \n    conn.commit()\n    print(''ç”¨æˆ·åˆ›å»ºå®Œæˆ'')\n    \nexcept Exception as e:\n    print(f''åˆ›å»ºç”¨æˆ·æ—¶å‡ºé”™: {e}'')\n    \nconn.close()\n\")",
      "Bash(tasklist:*)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·æ•°æ® ==='')\ncursor.execute(''SELECT id, role FROM users ORDER BY id'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\nprint(''\\n=== æ£€æŸ¥parent_childå…³ç³» ==='')\ncursor.execute(''SELECT id, parent_id, child_id, nickname, is_active FROM parent_child ORDER BY id'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[4]}'')\n\nprint(''\\n=== æ£€æŸ¥å®¶é•¿ID=2ä¸å­©å­ID=1çš„å…³ç³» ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 AND child_id = 1 AND is_active = 1'')\nrel = cursor.fetchone()\nif rel:\n    print(''âœ… å…³ç³»å­˜åœ¨'')\nelse:\n    print(''âŒ å…³ç³»ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥å­©å­ID=1ç”¨æˆ·æ˜¯å¦å­˜åœ¨ ==='')\ncursor.execute(''SELECT * FROM users WHERE id = 1'')\nuser = cursor.fetchone()\nif user:\n    print(''âœ… ç”¨æˆ·å­˜åœ¨'')\nelse:\n    print(''âŒ ç”¨æˆ·ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·æ•°æ® ==='')\ncursor.execute(''SELECT id, role FROM users ORDER BY id'')\nusers = cursor.fetchall()\nfor user in users:\n    print(f''ç”¨æˆ·ID:{user[0]}, è§’è‰²:{user[1]}'')\n\nprint(''\\n=== æ£€æŸ¥parent_childå…³ç³» ==='')\ncursor.execute(''SELECT id, parent_id, child_id, nickname, is_active FROM parent_child ORDER BY id'')\nrelations = cursor.fetchall()\nfor rel in relations:\n    print(f''å…³ç³»ID:{rel[0]}, å®¶é•¿ID:{rel[1]}, å­©å­ID:{rel[2]}, æ˜µç§°:{rel[3]}, æ¿€æ´»:{rel[4]}'')\n\nprint(''\\n=== æ£€æŸ¥å®¶é•¿ID=2ä¸å­©å­ID=1çš„å…³ç³» ==='')\ncursor.execute(''SELECT * FROM parent_child WHERE parent_id = 2 AND child_id = 1 AND is_active = 1'')\nrel = cursor.fetchone()\nif rel:\n    print(''å…³ç³»å­˜åœ¨'')\nelse:\n    print(''å…³ç³»ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime\n\n# è§£æå½“å‰ä½¿ç”¨çš„token\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU2NDc2Mzg5fQ.uL14D71Ucfsqgw7tSWccdpRPIkwFe7JG7XWUAoxX7Ps''\n\ntry:\n    decoded = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n    print(''Tokenè§£ææˆåŠŸ:'')\n    print(f''  ç”¨æˆ·ID: {decoded.get(\"\"sub\"\")}'')\n    print(f''  è¿‡æœŸæ—¶é—´: {datetime.fromtimestamp(decoded.get(\"\"exp\"\"))}'')\n    print(f''  å½“å‰æ—¶é—´: {datetime.now()}'')\n    print(f''  æ˜¯å¦è¿‡æœŸ: {datetime.now().timestamp() > decoded.get(\"\"exp\"\")}'')\nexcept Exception as e:\n    print(f''Tokenè§£æå¤±è´¥: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime\nimport hashlib\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    print(''=== é‡æ–°åˆ›å»ºå®Œæ•´æ•°æ®åº“ ==='')\n    \n    # åˆ›å»ºusersè¡¨\n    cursor.execute(''''''\n        CREATE TABLE users (\n            id INTEGER PRIMARY KEY,\n            openid VARCHAR(100) UNIQUE NOT NULL,\n            unionid VARCHAR(100),\n            nickname VARCHAR(100),\n            avatar_url VARCHAR(500),\n            phone VARCHAR(20),\n            email VARCHAR(100),\n            role VARCHAR(20) NOT NULL DEFAULT ''student'',\n            grade VARCHAR(20),\n            is_vip BOOLEAN DEFAULT 0,\n            vip_expire_time DATETIME,\n            daily_quota INTEGER DEFAULT 3,\n            daily_used INTEGER DEFAULT 0,\n            last_quota_reset DATETIME DEFAULT CURRENT_DATE,\n            total_used INTEGER DEFAULT 0,\n            is_active BOOLEAN DEFAULT 1,\n            is_verified BOOLEAN DEFAULT 0,\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            last_login_at DATETIME,\n            settings TEXT\n        )\n    '''''')\n    print(''âœ… åˆ›å»ºusersè¡¨'')\n    \n    # åˆ›å»ºparent_childè¡¨\n    cursor.execute(''''''\n        CREATE TABLE parent_child (\n            id INTEGER PRIMARY KEY,\n            parent_id INTEGER NOT NULL,\n            child_id INTEGER NOT NULL,\n            relationship_type VARCHAR(20) DEFAULT ''parent'',\n            nickname VARCHAR(50),\n            school VARCHAR(100),\n            class_name VARCHAR(50),\n            is_active BOOLEAN DEFAULT 1,\n            can_view_homework BOOLEAN DEFAULT 1,\n            can_view_reports BOOLEAN DEFAULT 1,\n            can_set_limits BOOLEAN DEFAULT 1,\n            daily_homework_limit INTEGER DEFAULT 10,\n            daily_time_limit INTEGER DEFAULT 120,\n            bedtime_reminder VARCHAR(5),\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (parent_id) REFERENCES users (id),\n            FOREIGN KEY (child_id) REFERENCES users (id)\n        )\n    '''''')\n    print(''âœ… åˆ›å»ºparent_childè¡¨'')\n    \n    # æ’å…¥å®¶é•¿ç”¨æˆ·ID=2\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, is_active) \n        VALUES (?, ?, ?, ?, ?, ?)\n    '''''', (2, ''parent_2'', ''union_parent_2'', ''parent31'', ''parent'', 1))\n    print(''âœ… åˆ›å»ºå®¶é•¿ç”¨æˆ·ID=2'')\n    \n    # æ’å…¥å­©å­ç”¨æˆ·ID=1\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (1, ''student_1'', ''union_student_1'', ''student1'', ''student'', ''ä¸‰å¹´çº§'', ''/uploads/avatars/child1.jpg'', 1))\n    print(''âœ… åˆ›å»ºå­©å­ç”¨æˆ·ID=1'')\n    \n    # æ’å…¥å­©å­ç”¨æˆ·ID=110\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (110, ''child_110'', ''union_child_110'', ''å°æ˜'', ''student'', ''äºŒå¹´çº§'', ''emoji:ğŸ“'', 1))\n    print(''âœ… åˆ›å»ºå­©å­ç”¨æˆ·ID=110'')\n    \n    # æ’å…¥å…³è”å…³ç³»\n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 1, ''parent'', ''å°å®è´'', ''å®éªŒå°å­¦'', ''ä¸‰å¹´çº§'', 1))\n    print(''âœ… åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=1çš„å…³ç³»'')\n    \n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 110, ''parent'', ''å°æ˜'', ''å®éªŒå°å­¦111'', ''äºŒå¹´çº§'', 1))\n    print(''âœ… åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=110çš„å…³ç³»'')\n    \n    conn.commit()\n    print(''\\nâœ… æ•°æ®åº“é‡æ–°åˆ›å»ºå®Œæˆï¼'')\n    \n    # éªŒè¯æ•°æ®\n    print(''\\n=== éªŒè¯æ•°æ® ==='')\n    cursor.execute(''SELECT id, role FROM users'')\n    users = cursor.fetchall()\n    print(''ç”¨æˆ·åˆ—è¡¨:'')\n    for user in users:\n        print(f''  ID:{user[0]}, è§’è‰²:{user[1]}'')\n    \n    cursor.execute(''SELECT parent_id, child_id, nickname, is_active FROM parent_child'')\n    relations = cursor.fetchall()\n    print(''å…³è”å…³ç³»:'')\n    for rel in relations:\n        print(f''  å®¶é•¿ID:{rel[0]} -> å­©å­ID:{rel[1]}, æ˜µç§°:{rel[2]}, æ¿€æ´»:{rel[3]}'')\n        \nexcept Exception as e:\n    print(f''âŒ åˆ›å»ºæ•°æ®åº“æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime\nimport hashlib\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    print(''=== é‡æ–°åˆ›å»ºå®Œæ•´æ•°æ®åº“ ==='')\n    \n    # åˆ›å»ºusersè¡¨\n    cursor.execute(''''''\n        CREATE TABLE users (\n            id INTEGER PRIMARY KEY,\n            openid VARCHAR(100) UNIQUE NOT NULL,\n            unionid VARCHAR(100),\n            nickname VARCHAR(100),\n            avatar_url VARCHAR(500),\n            phone VARCHAR(20),\n            email VARCHAR(100),\n            role VARCHAR(20) NOT NULL DEFAULT ''student'',\n            grade VARCHAR(20),\n            is_vip BOOLEAN DEFAULT 0,\n            vip_expire_time DATETIME,\n            daily_quota INTEGER DEFAULT 3,\n            daily_used INTEGER DEFAULT 0,\n            last_quota_reset DATETIME DEFAULT CURRENT_DATE,\n            total_used INTEGER DEFAULT 0,\n            is_active BOOLEAN DEFAULT 1,\n            is_verified BOOLEAN DEFAULT 0,\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            last_login_at DATETIME,\n            settings TEXT\n        )\n    '''''')\n    print(''åˆ›å»ºusersè¡¨æˆåŠŸ'')\n    \n    # åˆ›å»ºparent_childè¡¨\n    cursor.execute(''''''\n        CREATE TABLE parent_child (\n            id INTEGER PRIMARY KEY,\n            parent_id INTEGER NOT NULL,\n            child_id INTEGER NOT NULL,\n            relationship_type VARCHAR(20) DEFAULT ''parent'',\n            nickname VARCHAR(50),\n            school VARCHAR(100),\n            class_name VARCHAR(50),\n            is_active BOOLEAN DEFAULT 1,\n            can_view_homework BOOLEAN DEFAULT 1,\n            can_view_reports BOOLEAN DEFAULT 1,\n            can_set_limits BOOLEAN DEFAULT 1,\n            daily_homework_limit INTEGER DEFAULT 10,\n            daily_time_limit INTEGER DEFAULT 120,\n            bedtime_reminder VARCHAR(5),\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (parent_id) REFERENCES users (id),\n            FOREIGN KEY (child_id) REFERENCES users (id)\n        )\n    '''''')\n    print(''åˆ›å»ºparent_childè¡¨æˆåŠŸ'')\n    \n    # æ’å…¥å®¶é•¿ç”¨æˆ·ID=2\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, is_active) \n        VALUES (?, ?, ?, ?, ?, ?)\n    '''''', (2, ''parent_2'', ''union_parent_2'', ''parent31'', ''parent'', 1))\n    print(''åˆ›å»ºå®¶é•¿ç”¨æˆ·ID=2æˆåŠŸ'')\n    \n    # æ’å…¥å­©å­ç”¨æˆ·ID=1\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (1, ''student_1'', ''union_student_1'', ''student1'', ''student'', ''ä¸‰å¹´çº§'', ''/uploads/avatars/child1.jpg'', 1))\n    print(''åˆ›å»ºå­©å­ç”¨æˆ·ID=1æˆåŠŸ'')\n    \n    # æ’å…¥å­©å­ç”¨æˆ·ID=110\n    cursor.execute(''''''\n        INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    '''''', (110, ''child_110'', ''union_child_110'', ''å°æ˜'', ''student'', ''äºŒå¹´çº§'', ''emoji:ğŸ“'', 1))\n    print(''åˆ›å»ºå­©å­ç”¨æˆ·ID=110æˆåŠŸ'')\n    \n    # æ’å…¥å…³è”å…³ç³»\n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 1, ''parent'', ''å°å®è´'', ''å®éªŒå°å­¦'', ''ä¸‰å¹´çº§'', 1))\n    print(''åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=1çš„å…³ç³»æˆåŠŸ'')\n    \n    cursor.execute(''''''\n        INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) \n        VALUES (?, ?, ?, ?, ?, ?, ?)\n    '''''', (2, 110, ''parent'', ''å°æ˜'', ''å®éªŒå°å­¦111'', ''äºŒå¹´çº§'', 1))\n    print(''åˆ›å»ºå®¶é•¿ID=2ä¸å­©å­ID=110çš„å…³ç³»æˆåŠŸ'')\n    \n    conn.commit()\n    print(''æ•°æ®åº“é‡æ–°åˆ›å»ºå®Œæˆï¼'')\n    \n    # éªŒè¯æ•°æ®\n    print(''=== éªŒè¯æ•°æ® ==='')\n    cursor.execute(''SELECT id, role FROM users'')\n    users = cursor.fetchall()\n    print(''ç”¨æˆ·åˆ—è¡¨:'')\n    for user in users:\n        print(f''  ID:{user[0]}, è§’è‰²:{user[1]}'')\n    \n    cursor.execute(''SELECT parent_id, child_id, nickname, is_active FROM parent_child'')\n    relations = cursor.fetchall()\n    print(''å…³è”å…³ç³»:'')\n    for rel in relations:\n        print(f''  å®¶é•¿ID:{rel[0]} -> å­©å­ID:{rel[1]}, æ˜µç§°:{rel[2]}, æ¿€æ´»:{rel[3]}'')\n        \nexcept Exception as e:\n    print(f''åˆ›å»ºæ•°æ®åº“æ—¶å‡ºé”™: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\ntry:\n    # åˆ›å»ºusersè¡¨\n    cursor.execute(''''''\n        CREATE TABLE users (\n            id INTEGER PRIMARY KEY,\n            openid VARCHAR(100) UNIQUE NOT NULL,\n            unionid VARCHAR(100),\n            nickname VARCHAR(100),\n            avatar_url VARCHAR(500),\n            phone VARCHAR(20),\n            email VARCHAR(100),\n            role VARCHAR(20) NOT NULL DEFAULT ''student'',\n            grade VARCHAR(20),\n            is_vip BOOLEAN DEFAULT 0,\n            vip_expire_time DATETIME,\n            daily_quota INTEGER DEFAULT 3,\n            daily_used INTEGER DEFAULT 0,\n            last_quota_reset DATETIME DEFAULT CURRENT_DATE,\n            total_used INTEGER DEFAULT 0,\n            is_active BOOLEAN DEFAULT 1,\n            is_verified BOOLEAN DEFAULT 0,\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            last_login_at DATETIME,\n            settings TEXT\n        )\n    '''''')\n    \n    # åˆ›å»ºparent_childè¡¨\n    cursor.execute(''''''\n        CREATE TABLE parent_child (\n            id INTEGER PRIMARY KEY,\n            parent_id INTEGER NOT NULL,\n            child_id INTEGER NOT NULL,\n            relationship_type VARCHAR(20) DEFAULT ''parent'',\n            nickname VARCHAR(50),\n            school VARCHAR(100),\n            class_name VARCHAR(50),\n            is_active BOOLEAN DEFAULT 1,\n            can_view_homework BOOLEAN DEFAULT 1,\n            can_view_reports BOOLEAN DEFAULT 1,\n            can_set_limits BOOLEAN DEFAULT 1,\n            daily_homework_limit INTEGER DEFAULT 10,\n            daily_time_limit INTEGER DEFAULT 120,\n            bedtime_reminder VARCHAR(5),\n            created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (parent_id) REFERENCES users (id),\n            FOREIGN KEY (child_id) REFERENCES users (id)\n        )\n    '''''')\n    \n    # æ’å…¥æ•°æ®\n    cursor.execute(''''''INSERT INTO users (id, openid, unionid, nickname, role, is_active) VALUES (?, ?, ?, ?, ?, ?)'''''', (2, ''parent_2'', ''union_parent_2'', ''parent31'', ''parent'', 1))\n    cursor.execute(''''''INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) VALUES (?, ?, ?, ?, ?, ?, ?, ?)'''''', (1, ''student_1'', ''union_student_1'', ''student1'', ''student'', ''ä¸‰å¹´çº§'', ''/uploads/avatars/child1.jpg'', 1))\n    cursor.execute(''''''INSERT INTO users (id, openid, unionid, nickname, role, grade, avatar_url, is_active) VALUES (?, ?, ?, ?, ?, ?, ?, ?)'''''', (110, ''child_110'', ''union_child_110'', ''å°æ˜'', ''student'', ''äºŒå¹´çº§'', ''emoji:ğŸ“'', 1))\n    \n    cursor.execute(''''''INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) VALUES (?, ?, ?, ?, ?, ?, ?)'''''', (2, 1, ''parent'', ''å°å®è´'', ''å®éªŒå°å­¦'', ''ä¸‰å¹´çº§'', 1))\n    cursor.execute(''''''INSERT INTO parent_child (parent_id, child_id, relationship_type, nickname, school, class_name, is_active) VALUES (?, ?, ?, ?, ?, ?, ?)'''''', (2, 110, ''parent'', ''å°æ˜'', ''å®éªŒå°å­¦111'', ''äºŒå¹´çº§'', 1))\n    \n    conn.commit()\n    print(''æ•°æ®åº“åˆ›å»ºæˆåŠŸ'')\n    \nexcept Exception as e:\n    print(f''é”™è¯¯: {e}'')\n    conn.rollback()\n    \nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=1)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å½“å‰å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·ID=2çš„ä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, role, is_active FROM users WHERE id = 2'')\nuser2 = cursor.fetchone()\nif user2:\n    print(f''ç”¨æˆ·ID=2: è§’è‰²={user2[1]}, æ¿€æ´»={user2[2]}'')\nelse:\n    print(''ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥ç”¨æˆ·ID=1çš„ä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, role, is_active FROM users WHERE id = 1'')\nuser1 = cursor.fetchone()\nif user1:\n    print(f''ç”¨æˆ·ID=1: è§’è‰²={user1[1]}, æ¿€æ´»={user1[2]}'')\nelse:\n    print(''ç”¨æˆ·ID=1ä¸å­˜åœ¨'')\n\nprint(''\\n=== æ£€æŸ¥parent_childå…³ç³» ==='')\ncursor.execute(''SELECT parent_id, child_id, nickname, is_active FROM parent_child WHERE parent_id = 2 AND child_id = 1'')\nrelation = cursor.fetchone()\nif relation:\n    print(f''å…³ç³»å­˜åœ¨: å®¶é•¿ID={relation[0]}, å­©å­ID={relation[1]}, æ˜µç§°={relation[2]}, æ¿€æ´»={relation[3]}'')\nelse:\n    print(''å…³ç³»ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆæ–°çš„å®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)  # å»¶é•¿åˆ°7å¤©æœ‰æ•ˆæœŸ\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token (7å¤©æœ‰æ•ˆ): {token}'')\n\n# éªŒè¯token\ntry:\n    decoded = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n    print(f''TokenéªŒè¯æˆåŠŸ: {decoded}'')\n    exp_time = datetime.fromtimestamp(decoded[''exp''])\n    print(f''è¿‡æœŸæ—¶é—´: {exp_time}'')\nexcept Exception as e:\n    print(f''TokenéªŒè¯å¤±è´¥: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆæ–°çš„å®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)  # å»¶é•¿åˆ°7å¤©æœ‰æ•ˆæœŸ\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token (7å¤©æœ‰æ•ˆ): {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆæ–°çš„å®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·ID=1çš„ç­çº§ä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, parent_id, child_id, nickname, class_name, school FROM parent_child WHERE child_id = 1'')\nrelation = cursor.fetchone()\nif relation:\n    print(f''å…³è”å…³ç³»: ID={relation[0]}, å®¶é•¿ID={relation[1]}, å­©å­ID={relation[2]}, æ˜µç§°={relation[3]}, ç­çº§={relation[4]}, å­¦æ ¡={relation[5]}'')\nelse:\n    print(''æœªæ‰¾åˆ°child_id=1çš„å…³è”å…³ç³»'')\n\n# å¦‚æœç­çº§ä¸ºç©ºï¼Œæ·»åŠ ç­çº§ä¿¡æ¯\nif relation and not relation[4]:\n    print(''ä¸ºå­©å­ID=1æ·»åŠ ç­çº§ä¿¡æ¯...'')\n    cursor.execute(''UPDATE parent_child SET class_name = ? WHERE child_id = 1'', (''ä¸‰å¹´çº§1ç­'',))\n    conn.commit()\n    print(''ç­çº§ä¿¡æ¯å·²æ›´æ–°'')\n\n# å†æ¬¡æ£€æŸ¥\ncursor.execute(''SELECT id, parent_id, child_id, nickname, class_name, school FROM parent_child WHERE child_id = 1'')\nupdated_relation = cursor.fetchone()\nif updated_relation:\n    print(f''æ›´æ–°å: ID={updated_relation[0]}, å®¶é•¿ID={updated_relation[1]}, å­©å­ID={updated_relation[2]}, æ˜µç§°={updated_relation[3]}, ç­çº§={updated_relation[4]}, å­¦æ ¡={updated_relation[5]}'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥å­©å­ID=1çš„ç­çº§ä¿¡æ¯ ==='')\ncursor.execute(''SELECT class_name FROM parent_child WHERE child_id = 1'')\nresult = cursor.fetchone()\nif result:\n    print(f''å½“å‰ç­çº§ä¿¡æ¯: {result[0]}'')\n    if not result[0] or result[0] == ''æœªè®¾ç½®'':\n        print(''æ›´æ–°ç­çº§ä¿¡æ¯...'')\n        cursor.execute(''UPDATE parent_child SET class_name = ? WHERE child_id = 1'', (''ä¸‰å¹´çº§1ç­'',))\n        conn.commit()\n        print(''ç­çº§ä¿¡æ¯å·²æ›´æ–°ä¸º: ä¸‰å¹´çº§1ç­'')\nelse:\n    print(''æœªæ‰¾åˆ°å…³è”å…³ç³»'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆæ–°çš„å®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆæ–°çš„å®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MDM3NjE2fQ.jjDMfdk_c9aUaBkSVzBWHK0bWCjN98rDOorA72Kn0ys''\n\nurl = ''http://localhost:8000/api/v1/parent/dashboard''\nheaders = {''Authorization'': f''Bearer {token}''}\n\nresponse = requests.get(url, headers=headers)\nif response.status_code == 200:\n    data = response.json()\n    children = data.get(''children'', [])\n    print(f''Total children: {len(children)}'')\n    for i, child in enumerate(children):\n        print(f''Child {i+1}:'')\n        print(f''  ID: {child.get(\"\"id\"\")}'')\n        print(f''  Avatar value: {repr(child.get(\"\"avatar\"\"))}'')  # use repr() to avoid encoding issues\n        if str(child.get(''name'', '''')).find(''aa'') >= 0 or child.get(''id'') == 110:\n            print(''  >>> This is the aa child <<<'')\n        print()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport os\nprint(''å½“å‰ç›®å½•:'', os.getcwd())\nprint(''backendç›®å½•æ˜¯å¦å­˜åœ¨:'', os.path.exists(''D:/work/project/zyjc/backend''))\nprint(''app.mainæ˜¯å¦å­˜åœ¨:'', os.path.exists(''D:/work/project/zyjc/backend/app/main.py''))\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn backend.app.main:app --host 0.0.0.0 --port 8000)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 0.0.0.0 --port 8000)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_avatar_update.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥å­©å­ID=1çš„å¤´åƒä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, nickname, avatar_url FROM users WHERE id = 1'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID=1: æ˜µç§°={user[1]}, å¤´åƒ={user[2][:50] if user[2] else None}...'')\nelse:\n    print(''ç”¨æˆ·ID=1ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" fix_avatar_update.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" debug_api_issue.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_final_fix.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" debug_frontend_issue.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_final_avatar_fix.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_image_avatar.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_frontend_async.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å½“å‰æœ‰æ•ˆçš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\nimport json\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MDQyMDQ5fQ.NXVct--lzwkTLk3Be6Y8uD_uXYScMqCJRJC2csSMB2Q''\n\ntry:\n    # è·å–å®¶é•¿dashboardæ•°æ®\n    response = requests.get(\n        ''http://localhost:8000/api/v1/parent/dashboard'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        data = response.json()\n        children = data.get(''children'', [])\n        print(''=== å­©å­æ•°æ®ç»“æ„åˆ†æ ==='')\n        print(f''å­©å­æ•°é‡: {len(children)}'')\n        \n        for i, child in enumerate(children):\n            print(f''\\nå­©å­ {i+1}:'')\n            print(f''  ID: {child.get(\"\"id\"\")}'')\n            print(f''  å§“å: {child.get(\"\"name\"\")}'') \n            print(f''  å¤´åƒ: {repr(child.get(\"\"avatar\"\"))}'')\n            print(f''  å¹´çº§: {child.get(\"\"grade\"\")}'')\n            print(f''  çŠ¶æ€: {child.get(\"\"status\"\")}'')\n            print(f''  ä»Šæ—¥åˆ†æ•°: {child.get(\"\"todayScore\"\")}'')\n            print(f''  æ‰€æœ‰å­—æ®µ: {list(child.keys())}'')\n    else:\n        print(f''APIè¯·æ±‚å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''è¯·æ±‚å¼‚å¸¸: {e}'')\n\")",
      "Read(D:\\/**)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å®¶é•¿token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MDQ4NDQwfQ.UXxbs7IVGDXRopDLVz-lwYHdR0CDIoyPEnmxQ2WbkS8''\n\ntry:\n    # æµ‹è¯•VIPçŠ¶æ€API\n    response = requests.get(\n        ''http://localhost:8000/api/v1/user/vip-status'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        data = response.json()\n        print(''VIPçŠ¶æ€APIæµ‹è¯•æˆåŠŸ:'')\n        print(f''  æ˜¯å¦VIP: {data.get(\"\"is_vip\"\")}'')\n        print(f''  VIPç±»å‹: {data.get(\"\"vip_type\"\")}'')\n        print(f''  è¿‡æœŸæ—¶é—´: {data.get(\"\"expire_date\"\")}'')\n        print(f''  å‰©ä½™å¤©æ•°: {data.get(\"\"remaining_days\"\")}'')\n        print(f''  æ¯æ—¥é¢åº¦: {data.get(\"\"daily_quota\"\")}'')\n        print(f''  å‰©ä½™æ¬¡æ•°: {data.get(\"\"remaining_quota\"\")}'')\n    else:\n        print(f''APIè¯·æ±‚å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''è¯·æ±‚å¼‚å¸¸: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== æ£€æŸ¥ç”¨æˆ·ID=2çš„VIPä¿¡æ¯ ==='')\ncursor.execute(''SELECT id, is_vip, vip_expire_time, daily_quota, daily_used FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID=2: VIP={user[1]}, è¿‡æœŸæ—¶é—´={user[2]}, æ¯æ—¥é¢åº¦={user[3]}, å·²ä½¿ç”¨={user[4]}'')\n    remaining = (user[3] or 3) - (user[4] or 0)\n    print(f''è®¡ç®—å‰©ä½™æ¬¡æ•°: {user[3]} - {user[4]} = {remaining}'')\nelse:\n    print(''ç”¨æˆ·ID=2ä¸å­˜åœ¨'')\n\nconn.close()\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime, timedelta\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\n# ç»™ç”¨æˆ·ID=2è®¾ç½®VIPçŠ¶æ€ç”¨äºæµ‹è¯•\nexpire_time = datetime.now() + timedelta(days=30)  # 30å¤©åè¿‡æœŸ\ncursor.execute(''UPDATE users SET is_vip = 1, vip_expire_time = ?, daily_quota = 50 WHERE id = 2'', \n               (expire_time.isoformat(),))\n\nconn.commit()\n\n# éªŒè¯æ›´æ–°\ncursor.execute(''SELECT id, is_vip, vip_expire_time, daily_quota FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    print(f''ç”¨æˆ·ID=2æ›´æ–°å: VIP={user[1]}, è¿‡æœŸæ—¶é—´={user[2]}, æ¯æ—¥é¢åº¦={user[3]}'')\n\nconn.close()\nprint(''å·²ä¸ºç”¨æˆ·ID=2è®¾ç½®30å¤©VIPçŠ¶æ€'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_vip_center.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport sqlite3\nfrom datetime import datetime, timedelta\n\nconn = sqlite3.connect(''backend/app.db'')\ncursor = conn.cursor()\n\nprint(''=== åˆ›å»ºä¸¤ç§æµ‹è¯•åœºæ™¯ ==='')\n\n# åœºæ™¯1: è®¾ç½®ä¸ºéVIPç”¨æˆ·ç”¨äºæµ‹è¯•\ncursor.execute(''UPDATE users SET is_vip = 0, vip_expire_time = NULL, daily_quota = 3, daily_used = 1 WHERE id = 2'')\n\nconn.commit()\n\n# éªŒè¯æ›´æ–°\ncursor.execute(''SELECT id, is_vip, vip_expire_time, daily_quota, daily_used FROM users WHERE id = 2'')\nuser = cursor.fetchone()\nif user:\n    remaining = (user[3] or 3) - (user[4] or 0)\n    print(f''éVIPç”¨æˆ·æµ‹è¯•æ•°æ®: VIP={user[1]}, æ¯æ—¥é¢åº¦={user[3]}, å·²ä½¿ç”¨={user[4]}, å‰©ä½™={remaining}'')\n\nconn.close()\nprint(''å·²è®¾ç½®éVIPç”¨æˆ·æµ‹è¯•åœºæ™¯'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_vip_purchase.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_vip_navigation.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzU3MDYzNTkzfQ.KREHMWp1qtNM9o2ImP2kFpI9MpzXsFK9KPQmaW7lPh8''\n\n# æµ‹è¯•å­¦ç”Ÿç”¨æˆ·ä¿¡æ¯API\nprint(''=== æµ‹è¯•å­¦ç”Ÿç”¨æˆ·åŸºæœ¬ä¿¡æ¯ ==='')\ntry:\n    response = requests.get(\n        ''http://localhost:8000/api/v1/auth/me'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        user_data = response.json()\n        print(f''ç”¨æˆ·ID: {user_data.get(\"\"id\"\")}'')\n        print(f''è§’è‰²: {user_data.get(\"\"role\"\")}'') \n        print(f''æ˜µç§°: {user_data.get(\"\"nickname\"\")}'')\n        print(f''VIPçŠ¶æ€: {user_data.get(\"\"is_vip\"\")}'')\n    else:\n        print(f''APIè°ƒç”¨å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''è¯·æ±‚å¼‚å¸¸: {e}'')\n\nprint()\nprint(''=== æµ‹è¯•å­¦ç”ŸVIPçŠ¶æ€API ==='')\ntry:\n    response = requests.get(\n        ''http://localhost:8000/api/v1/user/vip-status'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        vip_data = response.json()\n        print(f''VIPçŠ¶æ€æ•°æ®: {vip_data}'')\n    else:\n        print(f''VIPçŠ¶æ€APIè°ƒç”¨å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''VIPçŠ¶æ€è¯·æ±‚å¼‚å¸¸: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 0.0.0.0 --port 8001)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzU3MDYzNTkzfQ.KREHMWp1qtNM9o2ImP2kFpI9MpzXsFK9KPQmaW7lPh8''\n\n# æµ‹è¯•å­¦ç”Ÿç”¨æˆ·ä¿¡æ¯API (ä½¿ç”¨ç«¯å£8001)\nprint(''=== æµ‹è¯•å­¦ç”Ÿç”¨æˆ·åŸºæœ¬ä¿¡æ¯ ==='')\ntry:\n    response = requests.get(\n        ''http://localhost:8001/api/v1/auth/me'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        user_data = response.json()\n        print(f''ç”¨æˆ·ID: {user_data.get(\"\"id\"\")}'')\n        print(f''è§’è‰²: {user_data.get(\"\"role\"\")}'') \n        print(f''æ˜µç§°: {user_data.get(\"\"nickname\"\")}'')\n        print(f''VIPçŠ¶æ€: {user_data.get(\"\"is_vip\"\")}'')\n        print(f''å¤´åƒ: {user_data.get(\"\"avatar_url\"\")}'')\n        print()\n        print(''å­¦ç”Ÿç”¨æˆ·æ•°æ®æ­£å¸¸ï¼Œç°åœ¨æµ‹è¯•VIPçŠ¶æ€API...'')\n    else:\n        print(f''APIè°ƒç”¨å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''è¯·æ±‚å¼‚å¸¸: {e}'')\n\n# æµ‹è¯•VIPçŠ¶æ€API\nprint()\nprint(''=== æµ‹è¯•å­¦ç”ŸVIPçŠ¶æ€API ==='')\ntry:\n    response = requests.get(\n        ''http://localhost:8001/api/v1/user/vip-status'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    if response.status_code == 200:\n        vip_data = response.json()\n        print(f''VIPçŠ¶æ€APIå“åº”æˆåŠŸ:'')\n        print(f''  æ˜¯å¦VIP: {vip_data.get(\"\"is_vip\"\")}'')\n        print(f''  VIPç±»å‹: {vip_data.get(\"\"vip_type\"\")}'')\n        print(f''  å‰©ä½™æ¬¡æ•°: {vip_data.get(\"\"remaining_quota\"\")}'')\n        print(f''  æ¯æ—¥é¢åº¦: {vip_data.get(\"\"daily_quota\"\")}'')\n        print(''VIPçŠ¶æ€APIè°ƒç”¨æˆåŠŸï¼Œä¼šå‘˜ä¸­å¿ƒåŠŸèƒ½æ­£å¸¸'')\n    else:\n        print(f''VIPçŠ¶æ€APIè°ƒç”¨å¤±è´¥: {response.status_code}'')\n        print(f''å“åº”å†…å®¹: {response.text}'')\n        \nexcept Exception as e:\n    print(f''VIPçŠ¶æ€è¯·æ±‚å¼‚å¸¸: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_avatar_pages.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" verify_avatar_fix.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" final_verification.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_profile_fix.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\nprint()\nprint(''è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: http://localhost:8080/frontend/profile.html'')\nprint(''ç„¶ååœ¨å¼€å‘è€…å·¥å…·æ§åˆ¶å°ä¸­æ‰§è¡Œ:'')\nprint(f''localStorage.setItem(\"\"authToken\"\", \"\"{token}\"\");'')\nprint(''å†åˆ·æ–°é¡µé¢å³å¯æ­£å¸¸æ˜¾ç¤ºç”¨æˆ·èµ„æ–™ã€‚'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(alembic revision:*)",
      "Bash(sqlite3:*)",
      "Bash(cat:*)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_config_service.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_config_simple.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_export_service.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_export_simple.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_management_service.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_exercise_api.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_api_simple.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå­¦ç”Ÿç”¨æˆ·token (ID=1)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''1'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''æ–°çš„å­¦ç”Ÿç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_debug.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 127.0.0.1 --port 8000)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m uvicorn app.main:app --host 127.0.0.1 --port 8001)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_vip_system_complete.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" test_vip_simple.py)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# ç”Ÿæˆå®¶é•¿ç”¨æˆ·token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''å®¶é•¿ç”¨æˆ·Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"from app.api.v1.parent import router; print(''parent.py imports successfully'')\")",
      "Read(D:\\/**)",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -m py_compile \"D:\\work\\project\\zyjc\\backend\\app\\api\\v1\\parent.py\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nfrom jose import jwt\nfrom datetime import datetime, timedelta\n\n# Generate a parent user token (ID=2)\nSECRET_KEY = ''your-super-secret-key-change-in-production''\nALGORITHM = ''HS256''\n\npayload = {\n    ''sub'': ''2'',\n    ''exp'': datetime.utcnow() + timedelta(days=7)\n}\n\ntoken = jwt.encode(payload, SECRET_KEY, algorithm=ALGORITHM)\nprint(f''Parent user Token: {token}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\nimport time\n\nprint(''=== Testing both endpoints after adding test endpoint ==='')\ntime.sleep(3)  # Give server time to reload\n\n# Test test-endpoint\ntry:\n    response = requests.get(''http://localhost:8000/api/v1/parent/test-endpoint'')\n    print(f''Test endpoint - Status: {response.status_code}, Response: {response.text}'')\nexcept Exception as e:\n    print(f''Test endpoint failed: {e}'')\n\n# Test practice-status with token\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MTcyOTM2fQ.etHrIQDEYl02q82jatEuBrXyzt36AjMOqDqDYN292vw''\ntry:\n    response = requests.get(\n        ''http://localhost:8000/api/v1/parent/practice-status'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    print(f''Practice-status - Status: {response.status_code}, Response: {response.text}'')\nexcept Exception as e:\n    print(f''Practice-status failed: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\nimport time\n\nprint(''=== Testing endpoints after main.py modification ==='')\ntime.sleep(3)  # Give server time to reload\n\n# Test test-endpoint  \ntry:\n    response = requests.get(''http://localhost:8000/api/v1/parent/test-endpoint'')\n    print(f''Test endpoint - Status: {response.status_code}'')\n    if response.status_code == 200:\n        print(''SUCCESS: Auto-reload is working!'')\n    else:\n        print(''Still getting 404 - auto-reload issue persists'')\nexcept Exception as e:\n    print(f''Test endpoint failed: {e}'')\n\n# Test practice-status with token\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MTcyOTM2fQ.etHrIQDEYl02q82jatEuBrXyzt36AjMOqDqDYN292vw''\ntry:\n    response = requests.get(\n        ''http://localhost:8000/api/v1/parent/practice-status'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    print(f''Practice-status - Status: {response.status_code}'')\n    if response.status_code == 200:\n        print(''SUCCESS: practice-status endpoint is working!'')\nexcept Exception as e:\n    print(f''Practice-status failed: {e}'')\n\")",
      "Bash(\"C:\\Program Files\\Python311\\python.exe\" -c \"\nimport requests\n\ntoken = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwiZXhwIjoxNzU3MTcyOTM2fQ.etHrIQDEYl02q82jatEuBrXyzt36AjMOqDqDYN292vw''\n\nprint(''=== Testing dashboard endpoint with practice_status parameter ==='')\ntry:\n    response = requests.get(\n        ''http://localhost:8000/api/v1/parent/dashboard?include_practice_status=true'',\n        headers={''Authorization'': f''Bearer {token}''}\n    )\n    \n    print(f''Status Code: {response.status_code}'')\n    \n    if response.status_code == 200:\n        import json\n        data = response.json()\n        \n        # Check if practice_status is included\n        if ''practice_status'' in data:\n            practice_status = data[''practice_status'']\n            print(''SUCCESS: practice_status data is included!'')\n            print(f''Children count: {practice_status.get(\"\"total_children\"\", 0)}'')\n            print(f''Generated at: {practice_status.get(\"\"generated_at\"\", \"\"unknown\"\")}'')\n            \n            # Show first child data if available\n            if practice_status.get(''children'') and len(practice_status[''children'']) > 0:\n                first_child = practice_status[''children''][0]\n                print(f''First child: {first_child.get(\"\"name\"\", \"\"unknown\"\")}'')\n                print(f''Recent practices: {len(first_child.get(\"\"recent_practices\"\", []))}'')\n        else:\n            print(''practice_status key not found in response'')\n            print(f''Available keys: {list(data.keys())}'')\n    else:\n        print(f''Error response: {response.text}'')\n        \nexcept Exception as e:\n    print(f''Request failed: {e}'')\n\")"
    ],
    "deny": [],
    "ask": [],
    "additionalDirectories": [
      "D:\\",
      "D:\\d D:\\work\\project",
      "D:\\d\\work\\project\\zyjc",
      "D:\\d D:\\work\\project\\zyjc",
      "D:\\d\\work\\project\\zyjc\\backend"
    ]
  }
}